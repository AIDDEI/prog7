import i18next from "i18next";
import { initReactI18next } from "react-i18next";
import * as Localization from 'expo-localization';
import AsyncStorage from "@react-native-async-storage/async-storage";

const deviceLanguage = Localization.getLocales()[0]?.languageCode?.slice(0,2) || 'en';

i18next
    .use(initReactI18next)
    .init({
        resources: {
            en: {
                translation: {
                    header: {
                        list: "List view",
                        location: "Location details",
                        review_location: "Add a review to ",
                        review: "Add a review",
                        map: "Map",
                        settings: "Settings",
                    },
                    delete: {
                        review_title: "Review removed",
                        review: "The review has been successfully removed.",
                    },
                    error: {
                        error: "Error",
                        delete_review: "Something went wrong while deleting the review. Please try again later.",
                        share: "Sharing failed. Please try again later.",
                        review: "There was an error loading the review. Please try again later.",
                    },
                    generic: {
                        location: "Location",
                        description: "Description",
                        review: "Review",
                        like: "‚ù§Ô∏è",
                        success: "Success",
                        type: "Type",
                        address: "Address",
                        website: "Website",
                        opening_hours: "Opening hours",
                        music: "Types of music",
                        closed: "Closed",
                    },
                    days: {
                        monday: "Monday",
                        tuesday: "Tuesday",
                        wednesday: "Wednesday",
                        thursday: "Thursday",
                        friday: "Friday",
                        saturday: "Saturday",
                        sunday: "Sunday",
                    },
                    button: {
                        map: "View on the map",
                        review: "Write a review",
                        delete_review: "Remove review",
                        share: "Share this location",
                        save: "Save",
                        edit_review: "Edit review",
                    },
                    location: {
                        retrieve: "Retrieving current location... Please be patient.",
                        current: "My location",
                        denied: "Permission to access location was denied.",
                    },
                    review: {
                        saved: "The review has been saved successfully!",
                        placeholder: "Write a review...",
                        photo: "Add photo",
                    },
                    settings: {
                        language: "Language",
                        theme: "Theme",
                        set_language: "Select language",
                    },
                    language: {
                        dutch: "Nederlands (Dutch)",
                        english: "English",
                        german: "Deutsch (German)",
                        spanish: "Espa√±ol (Spanish)",
                        chinese: "‰∏≠ÂõΩ‰∫∫ (Chinese)",
                    },
                }
            },
            nl: {
                translation: {
                    header: {
                        list: "Lijstweergave",
                        location: "Locatie details",
                        review_location: "Voeg een review toe aan ",
                        review: "Voeg een review toe",
                        map: "Kaart",
                        settings: "Instellingen",
                    },
                    delete: {
                        review_title: "Review verwijderd",
                        review: "De review is succesvol verwijderd.",
                    },
                    error: {
                        error: "Fout",
                        delete_review: "Er is iets misgegaan bij het verwijderen van de review. Probeer het later opnieuw.",
                        share: "Delen mislukt. Probeer het later opnieuw.",
                        review: "Er is een fout opgetreden bij het laden van de review. Probeer het later opnieuw.",
                    },
                    generic: {
                        location: "Locatie",
                        description: "Beschrijving",
                        review: "Review",
                        like: "‚ù§Ô∏è",
                        like_empty: "ü§ç",
                        success: "Gelukt",
                        type: "Type",
                        address: "Adres",
                        website: "Website",
                        opening_hours: "Openingstijden",
                        music: "Soorten muziek",
                        closed: "Gesloten",
                    },
                    days: {
                        monday: "Maandag",
                        tuesday: "Dinsdag",
                        wednesday: "Woensdag",
                        thursday: "Donderdag",
                        friday: "Vrijdag",
                        saturday: "Zaterdag",
                        sunday: "Zondag",
                    },
                    button: {
                        map: "Bekijk op de kaart",
                        review: "Schrijf een review",
                        delete_review: "Verwijder review",
                        share: "Deel deze locatie",
                        save: "Opslaan",
                        edit_review: "Bewerk review",
                    },
                    location: {
                        retrieve: "Huidige locatie ophalen... Even geduld a.u.b.",
                        current: "Mijn locatie",
                        denied: "De toestemming voor toegang tot jouw locatie is geweigerd.",
                    },
                    review: {
                        saved: "De review is succesvol opgeslagen!",
                        placeholder: "Schrijf een review...",
                        photo: "Foto toevoegen",
                    },
                    settings: {
                        language: "Taal",
                        theme: "Thema",
                        set_language: "Selecteer taal",
                    },
                    language: {
                        dutch: "Nederlands",
                        english: "English (Engels)",
                        german: "Deutsch (Duits)",
                        spanish: "Espa√±ol (Spaans)",
                        chinese: "‰∏≠ÂõΩ‰∫∫ (Chinees)",
                    },
                }
            },
            de: {
                translation: {
                    header: {
                        list: "Listenansicht",
                        location: "Standortdetails",
                        review_location: "F√ºgen Sie eine Bewertung hinzu zu ",
                        review: "Bewertung hinzuf√ºgen",
                        map: "Karte",
                        settings: "Institutionen",
                    },
                    delete: {
                        review_title: "Rezension entfernt",
                        review: "Die Rezension wurde erfolgreich entfernt.",
                    },
                    error: {
                        error: "Fehler",
                        delete_review: "Beim L√∂schen der Rezension ist ein Fehler aufgetreten. Bitte versuchen Sie es sp√§ter noch einmal.",
                        share: "Beim Teilen ist ein Fehler aufgetreten. Versuchen Sie es sp√§ter erneut.",
                        review: "Beim Laden der √úberpr√ºfung ist ein Fehler aufgetreten. Bitte versuchen Sie es sp√§ter noch einmal.",
                    },
                    generic: {
                        location: "Der Standort",
                        description: "Die Beschreibung",
                        review: "Die √úberpr√ºfung",
                        like: "‚ù§Ô∏è",
                        like_empty: "ü§ç",
                        success: "Erfolg",
                        type: "Typ",
                        address: "Adresse",
                        website: "Webseite",
                        opening_hours: "√ñffnungszeiten",
                        music: "Arten von Musik",
                        closed: "Geschlossen",
                    },
                    days: {
                        monday: "Montag",
                        tuesday: "Dienstag",
                        wednesday: "Mittwoch",
                        thursday: "Donnerstag",
                        friday: "Freitag",
                        saturday: "Samstag",
                        sunday: "Sonntag",
                    },
                    button: {
                        map: "Auf der Karte anzeigen",
                        review: "Schreiben Sie eine Rezension",
                        delete_review: "Bewertung entfernen",
                        share: "Diesen Standort teilen",
                        save: "Speichern",
                        edit_review: "Bewertung bearbeiten",
                    },
                    location: {
                        retrieve: "Aktueller Standort wird abgerufen ... Bitte warten.",
                        current: "Mein Standort",
                        denied: "Die Berechtigung zum Zugriff auf Ihren Standort wurde verweigert.",
                    },
                    review: {
                        saved: "Die Bewertung wurde erfolgreich gespeichert!",
                        placeholder: "Schreiben Sie eine Bewertung...",
                        photo: "Foto hinzuf√ºgen",
                    },
                    settings: {
                        language: "Sprache",
                        theme: "Thema",
                        set_language: "Sprache ausw√§hlen",
                    },
                    language: {
                        dutch: "Nederlands (Niederl√§ndisch)",
                        english: "English (Englisch)",
                        german: "Deutsch",
                        spanish: "Espa√±ol (Spanisch)",
                        chinese: "‰∏≠ÂõΩ‰∫∫ (Chinesisch)",
                    },
                }
            },
            es: {
                translation: {
                    header: {
                        list: "Vista de lista",
                        location: "Detalles de ubicaci√≥n",
                        review_location: "A√±adir una rese√±a a ",
                        review: "A√±adir una rese√±a",
                        map: "Mapa",
                        settings: "Instituciones",
                    },
                    delete: {
                        review_title: "Rese√±a eliminada",
                        review: "La rese√±a ha sido eliminada exitosamente.",
                    },
                    error: {
                        error: "Equivocado",
                        delete_review: "Se produjo un error al eliminar la rese√±a. Int√©ntalo de nuevo m√°s tarde.",
                        share: "Error al compartir. Int√©ntalo de nuevo m√°s tarde.",
                        review: "Se produjo un error al cargar la rese√±a. Int√©ntalo de nuevo m√°s tarde.",
                    },
                    generic: {
                        location: "Ubicaci√≥n",
                        description: "Descripci√≥n",
                        review: "Revisar",
                        like: "‚ù§Ô∏è",
                        like_empty: "ü§ç",
                        success: "√âxito",
                        type: "Tipo",
                        address: "Direcci√≥n",
                        website: "Sitio web",
                        opening_hours: "Horario",
                        music: "Tipos de m√∫sica",
                        closed: "Cerrado",
                    },
                    days: {
                        monday: "Lunes",
                        tuesday: "Martes",
                        wednesday: "Mi√©rcoles",
                        thursday: "Jueves",
                        friday: "Viernes",
                        saturday: "S√°bado",
                        sunday: "Domingo",
                    },
                    button: {
                        map: "Ver en el mapa",
                        review: "Escribe una rese√±a",
                        delete_review: "Eliminar rese√±a",
                        share: "Comparte esta ubicaci√≥n",
                        save: "Ahorrar",
                        edit_review: "Editar rese√±a",
                    },
                    location: {
                        retrieve: "Obteniendo ubicaci√≥n actual... Por favor espere.",
                        current: "Mi ubicaci√≥n",
                        denied: "Se ha denegado el permiso para acceder a su ubicaci√≥n.",
                    },
                    review: {
                        saved: "¬°La rese√±a ha sido guardada exitosamente!",
                        placeholder: "Escribe una rese√±a...",
                        photo: "A√±adir foto",
                    },
                    settings: {
                        language: "Idioma",
                        theme: "Tema",
                        set_language: "Seleccionar idioma",
                    },
                    language: {
                        dutch: "Nederlands (Holand√©s)",
                        english: "English (Ingl√©s)",
                        german: "Deutsch (Alem√°n)",
                        spanish: "Espa√±ol",
                        chinese: "‰∏≠ÂõΩ‰∫∫ (Chino)",
                    },
                }
            },
            zh: {
                translation: {
                    header: {
                        list: "ÂàóË°®ËßÜÂõæ",
                        location: "‰ΩçÁΩÆËØ¶ÊÉÖ",
                        review_location: "Ê∑ªÂä†ËØÑËÆ∫ ",
                        review: "Ê∑ªÂä†ËØÑËÆ∫",
                        map: "Âç°Áâá",
                        settings: "Êú∫ÊûÑ",
                    },
                    delete: {
                        review_title: "Â∑≤Âà†Èô§ËØÑËÆ∫",
                        review: "ËØ•ËØÑËÆ∫Â∑≤Ë¢´ÊàêÂäüÂà†Èô§„ÄÇ",
                    },
                    error: {
                        error: "ÈîôËØØÁöÑ",
                        delete_review: "Âà†Èô§ËØÑËÆ∫Êó∂Âá∫Áé∞ÈîôËØØ„ÄÇËØ∑Á®çÂêéÈáçËØï„ÄÇ",
                        share: "ÂàÜ‰∫´Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï„ÄÇ",
                        review: "Âä†ËΩΩÁÇπËØÑÊó∂Âá∫Èîô„ÄÇËØ∑Á®çÂêéÈáçËØï„ÄÇ",
                    },
                    generic: {
                        location: "Âú∞ÁÇπ",
                        description: "ÊèèËø∞",
                        review: "ÂÆ°Êü•",
                        like: "‚ù§Ô∏è",
                        like_empty: "ü§ç",
                        success: "ÊàêÂäü",
                        type: "Á±ªÂûã",
                        address: "Âú∞ÂùÄ",
                        website: "ÁΩëÁ´ô",
                        opening_hours: "Ëê•‰∏öÊó∂Èó¥",
                        music: "Èü≥‰πêÁ±ªÂûã",
                        closed: "Â∑≤ÂÖ≥Èó≠",
                    },
                    days: {
                        monday: "ÊòüÊúü‰∏Ä",
                        tuesday: "ÊòüÊúü‰∫å",
                        wednesday: "ÊòüÊúü‰∏â",
                        thursday: "ÊòüÊúüÂõõ",
                        friday: "ÊòüÊúü‰∫î",
                        saturday: "ÊòüÊúüÂÖ≠",
                        sunday: "ÊòüÊúüÊó•",
                    },
                    button: {
                        map: "Âú®Âú∞Âõæ‰∏äÊü•Áúã",
                        review: "Êí∞ÂÜôËØÑËÆ∫",
                        delete_review: "Âà†Èô§ËØÑËÆ∫",
                        share: "ÂàÜ‰∫´Ê≠§‰ΩçÁΩÆ",
                        save: "ËäÇÁúÅ",
                        edit_review: "ÁºñËæëËØÑËÆ∫",
                    },
                    location: {
                        retrieve: "Ê≠£Âú®Ëé∑ÂèñÂΩìÂâç‰ΩçÁΩÆ...ËØ∑Á≠âÂæÖ„ÄÇ",
                        current: "ÊàëÁöÑ‰ΩçÁΩÆ",
                        denied: "ËÆøÈóÆÊÇ®ÁöÑ‰ΩçÁΩÆÁöÑÊùÉÈôêÂ∑≤Ë¢´ÊãíÁªù„ÄÇ",
                    },
                    review: {
                        saved: "ËØÑËÆ∫Â∑≤ÊàêÂäü‰øùÂ≠òÔºÅ",
                        placeholder: "Êí∞ÂÜôËØÑËÆ∫...",
                        photo: "Ê∑ªÂä†ÁÖßÁâá",
                    },
                    settings: {
                        language: "ËØ≠Ë®Ä",
                        theme: "‰∏ªÈ¢ò",
                        set_language: "ÈÄâÊã©ËØ≠Ë®Ä",
                    },
                    language: {
                        dutch: "Nederlands (Ëç∑ÂÖ∞ËØ≠)",
                        english: "English (Ëã±ËØ≠)",
                        german: "Deutsch (Âæ∑ËØ≠)",
                        spanish: "Espa√±ol (Ë•øÁè≠ÁâôËØ≠)",
                        chinese: "‰∏≠ÂõΩ‰∫∫",
                    },
                }
            }
        },
        lng: deviceLanguage,
        fallbackLng: 'en',
        interpolation: {
            escapeValue: false
        }
    });

AsyncStorage.getItem('appLanguage').then(lang => {
    if (lang && lang !== i18next.language) {
        i18next.changeLanguage(lang);
    }
});

export default i18next;